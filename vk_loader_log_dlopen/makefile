BIN=vk

${BIN}: main.o
	g++ --std=c++17 $^ -o ${BIN} -Os -s -O3 -ldl

main.o: main.cpp
	g++ -c --std=c++17 main.cpp -O3 -g


# error    Report any errors encountered by the loader
# warn     Report any warnings encountered by the loader
# info     Report info-level messages generated by the loader
# debug    Report debug-level messages generated by the loader
# layer    Report all layer-specific messages generated by the loader
# driver   Report all driver-specific messages generated by the loader
# all      Report all messages generated by the loader (includes all of the above)


run: ${BIN}
	VK_LOADER_DEBUG=all ./${BIN}

clean:
	rm -f ${BIN} *.o *.spv
