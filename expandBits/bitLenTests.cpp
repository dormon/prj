#include"catch.hpp"

#include "morton.h"


TEST_CASE("bitLen")
{
  REQUIRE(BITS3_LENGTH(32,1920,1080,9) == 8);
  REQUIRE(BITS3_LENGTH(32,1000,300 ,9) == 7);
  REQUIRE(BITS3_LENGTH(32,123 ,312 ,9) == 4);

  REQUIRE(BITS3_LENGTH(64,1920,1080,9) == 8);
  REQUIRE(BITS3_LENGTH(64,1000,300 ,9) == 6);
  REQUIRE(BITS3_LENGTH(64,123 ,312 ,9) == 4);

  REQUIRE(BITS2_LENGTH(32,1920,1080,9) == 1);
  REQUIRE(BITS2_LENGTH(32,1000,300 ,9) == 0);
  REQUIRE(BITS2_LENGTH(32,123 ,312 ,9) == 3);

  REQUIRE(BITS2_LENGTH(64,1920,1080,9) == 0);
  REQUIRE(BITS2_LENGTH(64,1000,300 ,9) == 1);
  REQUIRE(BITS2_LENGTH(64,123 ,312 ,9) == 2);

  REQUIRE(BITS1_LENGTH(32,1920,1080,9) == 0);
  REQUIRE(BITS1_LENGTH(32,1000,300 ,9) == 2);
  REQUIRE(BITS1_LENGTH(32,123 ,312 ,9) == 2);

  REQUIRE(BITS1_LENGTH(64,1920,1080,9) == 1);
  REQUIRE(BITS1_LENGTH(64,1000,300 ,9) == 2);
  REQUIRE(BITS1_LENGTH(64,123 ,312 ,9) == 3);
}
